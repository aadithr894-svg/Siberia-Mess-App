{% extends "base.html" %}

{% block content %}
<div class="mb-4">
    <h2 class="text-2xl fw-bold">Add Fines for {{ meal_type.capitalize() }} - {{ today.strftime('%d-%m-%Y') }}</h2>
    <p class="text-muted">Only users who haven't scanned their attendance will be listed below.</p>
</div>

{% if non_scanned_users %}
<form method="POST">
    <div class="table-responsive shadow-sm rounded-3">
        <table class="table table-hover align-middle mb-0">
            <thead class="table-primary">
                <tr>
                    <th scope="col">#</th>
                    <th scope="col">Student Name</th>
                    <th scope="col">Fine Amount (â‚¹)</th>
                </tr>
            </thead>
            <tbody>
                {% for user in non_scanned_users %}
                <tr class="table-light">
                    <td>{{ loop.index }}</td>
                    <td>{{ user.name }}</td>
                    <td>
                        <input type="hidden" name="user_id" value="{{ user.id }}">
                        <input type="number" name="fine" min="0" step="0.01" class="form-control" placeholder="Enter fine">
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
    <div class="mt-3">
        <button type="submit" class="btn btn-success">ðŸ’¾ Save Fines</button>
    </div>
</form>
{% else %}
<div class="alert alert-info">
    âœ… All students have scanned for {{ meal_type }} today. No fines to add.
</div>
{% endif %}

<style>
.table-hover tbody tr:hover {
    background-color: #e2e8f0 !important;
    transition: background-color 0.3s ease;
}
input.form-control {
    width: 100px;
}
@media (max-width: 768px) {
    input.form-control {
        width: 70px;
    }
}
</style>
{% endblock %}
